warning: unused import: `Bm25Embedding`
  --> src/api/handlers.rs:15:35
   |
15 |     embedding::{EmbeddingManager, Bm25Embedding},
   |                                   ^^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused imports: `delete` and `post`
 --> src/api/server.rs:5:20
  |
5 |     routing::{get, post, delete},
  |                    ^^^^  ^^^^^^

warning: unused import: `tower::ServiceBuilder`
  --> src/api/server.rs:10:5
   |
10 | use tower::ServiceBuilder;
   |     ^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `Any`, `CorsLayer`, and `trace::TraceLayer`
  --> src/api/server.rs:12:12
   |
12 |     cors::{Any, CorsLayer},
   |            ^^^  ^^^^^^^^^
13 |     trace::TraceLayer,
   |     ^^^^^^^^^^^^^^^^^

warning: unused variable: `collection_info`
   --> src/api/handlers.rs:436:9
    |
436 |     let collection_info = match state.store.get_collection_metadata(&co...
    |         ^^^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_collection_info`
    |
    = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: `vectorizer` (lib) generated 5 warnings (run `cargo fix --lib -p vectorizer` to apply 4 suggestions)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.27s
     Running `target/debug/vectorizer-server --host 127.0.0.1 --port 15001 --project ../gov`
[2m2025-09-24T10:37:56.213390Z[0m [32m INFO[0m [2mvectorizer_server[0m[2m:[0m Starting Vectorizer Server with dashboard
[2m2025-09-24T10:37:56.213441Z[0m [32m INFO[0m [2mvectorizer::db::vector_store[0m[2m:[0m Creating new VectorStore
[2m2025-09-24T10:37:56.213508Z[0m [32m INFO[0m [2mvectorizer_server[0m[2m:[0m Vector store initialized
[2m2025-09-24T10:37:56.213517Z[0m [32m INFO[0m [2mvectorizer_server[0m[2m:[0m Loading project from: ../gov
[2m2025-09-24T10:37:56.213580Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Loading project from: ../gov
[2m2025-09-24T10:37:56.216706Z[0m [33m WARN[0m [2mvectorizer::document_loader[0m[2m:[0m Failed to deserialize cache: Bincode does not support the serde::Deserializer::deserialize_any method, creating new cache
[2m2025-09-24T10:37:56.216966Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Configuration changed, invalidating cache
[2m2025-09-24T10:37:56.244311Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Found 423 documents to process
[2m2025-09-24T10:37:56.261379Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Cache stats: 0 hits, 423 misses
[2m2025-09-24T10:37:56.266872Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Saved cache to: ../gov/.vectorizer_cache.bin
[2m2025-09-24T10:37:56.266892Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Building vocabulary from 423 documents
[2m2025-09-24T10:37:56.266898Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Building vocabulary for embedding type: bm25
DEBUG: BM25 case in build_vocabulary
DEBUG: Collected 423 texts for vocabulary
DEBUG: Got BM25 provider
DEBUG: Cast to Bm25Embedding successful
DEBUG: Vocabulary size before: 0
Bm25Embedding vocabulary built:
  Total documents: 423
  Vocabulary size: 512
  Dimension: 512
  Sample vocabulary: [("strategies", 469), ("advanced", 98), ("proposer", 141), ("4", 30), ("thresholds", 439)]
DEBUG: Vocabulary size after: 512
[2m2025-09-24T10:37:56.609763Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m BM25 vocabulary built successfully
[2m2025-09-24T10:37:56.611188Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Saved BM25 tokenizer to: ../gov/tokenizer.bm25.json
[2m2025-09-24T10:37:56.611596Z[0m [32m INFO[0m [2mvectorizer::db::vector_store[0m[2m:[0m Collection 'documents' created successfully
[2m2025-09-24T10:37:56.611612Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Set embedding type 'bm25' for collection 'documents'
[2m2025-09-24T10:37:56.611618Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Created collection: documents
[2m2025-09-24T10:37:56.611624Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Storing 1364 chunks in vector store
[2m2025-09-24T10:37:56.611631Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Starting to process 1364 chunks for embedding
[2m2025-09-24T10:37:56.611638Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Processing chunk 1/1364
[2m2025-09-24T10:37:56.655866Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Processing chunk 101/1364
[2m2025-09-24T10:37:56.702313Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Processing chunk 201/1364
[2m2025-09-24T10:37:56.753817Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Processing chunk 301/1364
[2m2025-09-24T10:37:56.796261Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Processing chunk 401/1364
[2m2025-09-24T10:37:56.832126Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Processing chunk 501/1364
[2m2025-09-24T10:37:56.866200Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Processing chunk 601/1364
[2m2025-09-24T10:37:56.901911Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Processing chunk 701/1364
WARNING: Bm25Embedding produced all-zero embedding for 'NT],
    "approval_rate": [APPROVAL_RATE],
    "average_score": [FINAL_AVERAGE_SCORE],
    "consensus_level": "[FINAL_CONSENSUS_LEVEL]",
    "strategic_alignment": "[STRATEGIC_ALIGNMENT_LEVEL]"
  }
}'
Vocabulary size: 512, Matched terms: 0
Sample vocabulary: [("strategies", 469), ("advanced", 98), ("proposer", 141), ("4", 30), ("thresholds", 439)]
Tokens from text: ["nt", "approval_rate", "approval_rate", "average_score", "final_average_score", "consensus_level", "final_consensus_level", "strategic_alignment", "strategic_alignment_level"]
Using fallback hash-based embedding
WARNING: Bm25Embedding produced all-zero embedding for 'oved_proposals": [APPROVED_COUNT],
    "rejected_proposals": [REJECTED_COUNT],
    "vetoed_proposals": [VETOED_COUNT],
    "approval_rate": [APPROVAL_RATE],
    "average_score": [AVERAGE_SCORE]
  }
}'
Vocabulary size: 512, Matched terms: 0
Sample vocabulary: [("strategies", 469), ("advanced", 98), ("proposer", 141), ("4", 30), ("thresholds", 439)]
Tokens from text: ["oved_proposals", "approved_count", "rejected_proposals", "rejected_count", "vetoed_proposals", "vetoed_count", "approval_rate", "approval_rate", "average_score", "average_score"]
Using fallback hash-based embedding
[2m2025-09-24T10:37:56.938817Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Processing chunk 801/1364
[2m2025-09-24T10:37:56.978207Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Processing chunk 901/1364
[2m2025-09-24T10:37:57.020906Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Processing chunk 1001/1364
WARNING: Bm25Embedding produced all-zero embedding for 'ntegration (018)"],
    "tags": ["contextual-understanding", "semantic-processing", "context-synthesis", "multi-dimensional-integration", "decision-support", "ai-collaboration"]
  }
}'
Vocabulary size: 512, Matched terms: 0
Sample vocabulary: [("strategies", 469), ("advanced", 98), ("proposer", 141), ("4", 30), ("thresholds", 439)]
Tokens from text: ["ntegration", "018", "tags", "contextual-understanding", "semantic-processing", "context-synthesis", "multi-dimensional-integration", "decision-support", "ai-collaboration"]
Using fallback hash-based embedding
WARNING: Bm25Embedding produced all-zero embedding for 'tegrationReferences": {
        "identitySystem": "024-038-036-007-052-security-integrity-suite",
        "benchmarkingSystem": "022-023-034-049-quality-testing-validation"
      }
    }
  }
}'
Vocabulary size: 512, Matched terms: 0
Sample vocabulary: [("strategies", 469), ("advanced", 98), ("proposer", 141), ("4", 30), ("thresholds", 439)]
Tokens from text: ["tegrationreferences", "identitysystem", "024-038-036-007-052-security-integrity-suite", "benchmarkingsystem", "022-023-034-049-quality-testing-validation"]
Using fallback hash-based embedding
[2m2025-09-24T10:37:57.054543Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Processing chunk 1101/1364
[2m2025-09-24T10:37:57.092173Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Processing chunk 1201/1364
[2m2025-09-24T10:37:57.128921Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Processing chunk 1301/1364
[2m2025-09-24T10:37:57.156934Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully created 1364 vectors, inserting in batches
[2m2025-09-24T10:37:57.156957Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 1/28 (50 vectors)
[2m2025-09-24T10:37:57.157681Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 1
[2m2025-09-24T10:37:57.157689Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 2/28 (50 vectors)
[2m2025-09-24T10:37:57.158376Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 2
[2m2025-09-24T10:37:57.158383Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 3/28 (50 vectors)
[2m2025-09-24T10:37:57.159054Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 3
[2m2025-09-24T10:37:57.159063Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 4/28 (50 vectors)
[2m2025-09-24T10:37:57.159726Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 4
[2m2025-09-24T10:37:57.159731Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 5/28 (50 vectors)
[2m2025-09-24T10:37:57.160453Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 5
[2m2025-09-24T10:37:57.160459Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 6/28 (50 vectors)
[2m2025-09-24T10:37:57.161133Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 6
[2m2025-09-24T10:37:57.161138Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 7/28 (50 vectors)
[2m2025-09-24T10:37:57.161806Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 7
[2m2025-09-24T10:37:57.161813Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 8/28 (50 vectors)
[2m2025-09-24T10:37:57.162473Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 8
[2m2025-09-24T10:37:57.162478Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 9/28 (50 vectors)
[2m2025-09-24T10:37:57.163110Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 9
[2m2025-09-24T10:37:57.163115Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 10/28 (50 vectors)
[2m2025-09-24T10:37:57.163786Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 10
[2m2025-09-24T10:37:57.163791Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 11/28 (50 vectors)
[2m2025-09-24T10:37:57.164441Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 11
[2m2025-09-24T10:37:57.164446Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 12/28 (50 vectors)
[2m2025-09-24T10:37:57.165093Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 12
[2m2025-09-24T10:37:57.165099Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 13/28 (50 vectors)
[2m2025-09-24T10:37:57.165768Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 13
[2m2025-09-24T10:37:57.165773Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 14/28 (50 vectors)
[2m2025-09-24T10:37:57.166421Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 14
[2m2025-09-24T10:37:57.166426Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 15/28 (50 vectors)
[2m2025-09-24T10:37:57.167071Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 15
[2m2025-09-24T10:37:57.167077Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 16/28 (50 vectors)
[2m2025-09-24T10:37:57.167736Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 16
[2m2025-09-24T10:37:57.167742Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 17/28 (50 vectors)
[2m2025-09-24T10:37:57.168413Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 17
[2m2025-09-24T10:37:57.168419Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 18/28 (50 vectors)
[2m2025-09-24T10:37:57.169085Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 18
[2m2025-09-24T10:37:57.169090Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 19/28 (50 vectors)
[2m2025-09-24T10:37:57.169768Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Successfully inserted batch 19
[2m2025-09-24T10:37:57.169773Z[0m [32m INFO[0m [2mvectorizer::document_loader[0m[2m:[0m Inserting batch 20/28 (50 vectors)
