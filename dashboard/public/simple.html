<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vectorizer Dashboard</title>
    <link rel="stylesheet" href="/dashboard/static/styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîç</text></svg>">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">üîç</span>
                    <h1>Vectorizer Dashboard</h1>
                </div>
                <div class="server-status">
                    <span id="server-status" class="status-indicator">‚óè</span>
                    <span id="server-info">Server Status</span>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="navigation">
            <div class="nav-content">
                <button class="nav-item active" data-page="overview">
                    <span class="nav-icon">üìä</span>
                    Overview
                </button>
                <button class="nav-item" data-page="api-keys">
                    <span class="nav-icon">üîë</span>
                    API Keys
                </button>
                <button class="nav-item" data-page="collections">
                    <span class="nav-icon">üìÅ</span>
                    Collections
                </button>
                <button class="nav-item" data-page="monitoring">
                    <span class="nav-icon">üìà</span>
                    Monitoring
                </button>
                <button class="nav-item" data-page="audit">
                    <span class="nav-icon">üìã</span>
                    Audit Logs
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Overview Page -->
            <div id="page-overview" class="page active">
                <div class="page-header">
                    <h2>Server Overview</h2>
                    <p>Monitor your Vectorizer server status and performance</p>
                </div>
                
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-header">
                            <h3>Collections</h3>
                            <span class="metric-icon">üìÅ</span>
                        </div>
                        <div class="metric-value" id="collections-count">-</div>
                        <div class="metric-label">Total Collections</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-header">
                            <h3>Vectors</h3>
                            <span class="metric-icon">üî¢</span>
                        </div>
                        <div class="metric-value" id="vectors-count">-</div>
                        <div class="metric-label">Total Vectors</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-header">
                            <h3>API Keys</h3>
                            <span class="metric-icon">üîë</span>
                        </div>
                        <div class="metric-value" id="api-keys-count">-</div>
                        <div class="metric-label">Active Keys</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-header">
                            <h3>Memory Usage</h3>
                            <span class="metric-icon">üíæ</span>
                        </div>
                        <div class="metric-value" id="memory-usage">-</div>
                        <div class="metric-label">RAM Consumption</div>
                    </div>
                </div>

                <div class="recent-activity">
                    <h3>Recent Activity</h3>
                    <div id="recent-activity-list" class="activity-list">
                        <div class="activity-item">
                            <span class="activity-time">Loading...</span>
                            <span class="activity-text">Fetching recent activity...</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Other pages will be loaded dynamically -->
            <div id="page-api-keys" class="page">
                <div class="page-header">
                    <h2>API Key Management</h2>
                    <button id="create-api-key-btn" class="btn btn-primary">
                        <span class="btn-icon">‚ûï</span>
                        Create New Key
                    </button>
                </div>
                <div class="api-keys-list" id="api-keys-list">
                    <div class="loading">Loading API keys...</div>
                </div>
            </div>

            <div id="page-collections" class="page">
                <div class="page-header">
                    <h2>Collection Management</h2>
                    <button id="create-collection-btn" class="btn btn-primary">
                        <span class="btn-icon">‚ûï</span>
                        Create Collection
                    </button>
                </div>
                <div class="collections-list" id="collections-list">
                    <div class="loading">Loading collections...</div>
                </div>
            </div>

            <div id="page-monitoring" class="page">
                <div class="page-header">
                    <h2>System Monitoring</h2>
                    <div class="monitoring-controls">
                        <button id="refresh-metrics-btn" class="btn btn-secondary">
                            <span class="btn-icon">üîÑ</span>
                            Refresh
                        </button>
                        <label class="auto-refresh">
                            <input type="checkbox" id="auto-refresh" checked>
                            Auto-refresh (30s)
                        </label>
                    </div>
                </div>
                <div class="monitoring-grid">
                    <div class="monitor-card">
                        <h3>System Resources</h3>
                        <div class="resource-item">
                            <span class="resource-label">CPU Usage</span>
                            <div class="progress-bar">
                                <div class="progress-fill" id="cpu-progress"></div>
                            </div>
                            <span class="resource-value" id="cpu-value">-</span>
                        </div>
                        <div class="resource-item">
                            <span class="resource-label">Memory Usage</span>
                            <div class="progress-bar">
                                <div class="progress-fill" id="memory-progress"></div>
                            </div>
                            <span class="resource-value" id="memory-value">-</span>
                        </div>
                        <div class="resource-item">
                            <span class="resource-label">Disk Usage</span>
                            <div class="progress-bar">
                                <div class="progress-fill" id="disk-progress"></div>
                            </div>
                            <span class="resource-value" id="disk-value">-</span>
                        </div>
                    </div>
                    
                    <div class="monitor-card">
                        <h3>Network Activity</h3>
                        <div class="network-stats">
                            <div class="stat-item">
                                <span class="stat-label">Active Connections</span>
                                <span class="stat-value" id="active-connections">-</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Requests/min</span>
                                <span class="stat-value" id="requests-per-minute">-</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Bandwidth</span>
                                <span class="stat-value" id="bandwidth">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="page-audit" class="page">
                <div class="page-header">
                    <h2>Audit Logs</h2>
                    <div class="audit-controls">
                        <select id="audit-filter" class="filter-select">
                            <option value="all">All Events</option>
                            <option value="api-key">API Key Operations</option>
                            <option value="collection">Collection Operations</option>
                            <option value="vector">Vector Operations</option>
                            <option value="search">Search Operations</option>
                        </select>
                        <input type="date" id="audit-date-from" class="date-input">
                        <input type="date" id="audit-date-to" class="date-input">
                    </div>
                </div>
                <div class="audit-logs" id="audit-logs-list">
                    <div class="loading">Loading audit logs...</div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="modal-overlay" class="modal-overlay">
        <div id="create-api-key-modal" class="modal">
            <div class="modal-header">
                <h3>Create New API Key</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="create-api-key-form">
                    <div class="form-group">
                        <label for="key-name">Key Name</label>
                        <input type="text" id="key-name" required placeholder="e.g., Production API">
                    </div>
                    <div class="form-group">
                        <label for="key-description">Description (Optional)</label>
                        <textarea id="key-description" placeholder="Describe the purpose of this API key"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary modal-cancel">Cancel</button>
                <button type="submit" form="create-api-key-form" class="btn btn-primary">Create Key</button>
            </div>
        </div>

        <div id="create-collection-modal" class="modal">
            <div class="modal-header">
                <h3>Create New Collection</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="create-collection-form">
                    <div class="form-group">
                        <label for="collection-name">Collection Name</label>
                        <input type="text" id="collection-name" required placeholder="e.g., documents">
                    </div>
                    <div class="form-group">
                        <label for="collection-dimension">Dimension</label>
                        <input type="number" id="collection-dimension" required min="1" placeholder="e.g., 384">
                    </div>
                    <div class="form-group">
                        <label for="collection-metric">Distance Metric</label>
                        <select id="collection-metric" required>
                            <option value="cosine">Cosine Similarity</option>
                            <option value="euclidean">Euclidean Distance</option>
                            <option value="dot_product">Dot Product</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary modal-cancel">Cancel</button>
                <button type="submit" form="create-collection-form" class="btn btn-primary">Create Collection</button>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <script src="/dashboard/static/app.js"></script>
</body>
</html>
