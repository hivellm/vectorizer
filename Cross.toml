# Cross.toml - Configuration for cross-rs
# https://github.com/cross-rs/cross

[build.env]
passthrough = [
    "RUST_BACKTRACE",
    "CARGO_INCREMENTAL",
]

[target.x86_64-unknown-linux-musl]
# Custom image extending cross musl base with protoc for proto compilation
dockerfile = "./docker/Dockerfile.x86_64-unknown-linux-musl"

[target.x86_64-unknown-linux-musl.env]
passthrough = [
    "OPENSSL_STATIC=1",
    "ORT_STRATEGY=system",
    "ORT_USE_CUDA=0",
]

[target.aarch64-unknown-linux-musl]
# Custom image extending cross musl base with protoc for proto compilation
dockerfile = "./docker/Dockerfile.aarch64-unknown-linux-musl"

[target.aarch64-unknown-linux-musl.env]
passthrough = [
    "OPENSSL_STATIC=1",
    "ORT_STRATEGY=system",
    "ORT_USE_CUDA=0",
]

